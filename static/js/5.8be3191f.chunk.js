(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[5,10],{53:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(56),a=n.n(c),i="https://api.themoviedb.org/3/",s="2b2a12748231526069949d7d6477582b",o={getFilmBySearch:function(e){return a.a.get("".concat(i,"search/movie?api_key=").concat(s,"&query=").concat(e,"&page=1&include_adult=false")).then((function(e){return e.data.results}))},getCast:function(e){return a.a.get("".concat(i,"movie/").concat(e,"/credits?api_key=").concat(s)).then((function(e){return e.data.cast}))},getDaysTrends:function(){return a.a.get("".concat(i,"trending/all/week?api_key=").concat(s)).then((function(e){return e.data.results}))},getMoviesInfo:function(e){return a.a.get("".concat(i,"movie/").concat(e,"?api_key=").concat(s)).then((function(e){return e.data}))},getReviews:function(e){return a.a.get("".concat(i,"movie/").concat(e,"/reviews?api_key=").concat(s)).then((function(e){return e.data.results}))}}},54:function(e,t,n){"use strict";n.r(t);var c=n(1);t.default=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"404 Page not found \ud83d\udd0d"}),Object(c.jsx)("img",{src:"https://mtdata.ru/u8/photo39C2/20569542232-0/original.jpg",alt:"Page not found",width:"360"})]})}},90:function(e,t,n){e.exports={movieDetailsPage:"MovieDetailsPage_movieDetailsPage__29WKZ",buttonBack:"MovieDetailsPage_buttonBack__3dIDI",thumb:"MovieDetailsPage_thumb__2zugL",filmDetails:"MovieDetailsPage_filmDetails__3dyHD",link:"MovieDetailsPage_link__14ezd"}},96:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var c=n(55),a=n(90),i=n.n(a),s=n(2),o=n(0),r=n(53),l=n(10),d=n(95),u=n(15),j=n(54),h=n(1),v=Object(o.lazy)((function(){return n.e(8).then(n.bind(null,91))})),b=Object(o.lazy)((function(){return n.e(9).then(n.bind(null,93))}));function m(){var e,t,n,a,m,f,g=Object(s.h)().url,O=Object(s.g)(),p=Object(s.f)(),x=Object(o.useState)({}),_=Object(c.a)(x,2),w=_[0],k=_[1],D=new Date(w.release_date),y=Object(o.useState)("pending"),P=Object(c.a)(y,2),I=P[0],M=P[1],N=g.match(/[a-zA-Z0-9]+$/)[0];Object(o.useEffect)((function(){M("loading"),r.a.getMoviesInfo(N).then((function(e){console.log(e),k(e),M("pending")})).catch((function(e){return e&&M("rejected")}))}),[N]);return Object(h.jsxs)("div",{className:i.a.movieDetailsPage,children:[Object(h.jsxs)("button",{type:"button",onClick:function(){var e,t;p.push(null!==(e=null===O||void 0===O||null===(t=O.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/")},className:i.a.buttonBack,children:[Object(h.jsx)(d.a,{})," Go back"]}),"pending"===I&&Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:i.a.thumb,children:[Object(h.jsx)("img",{src:w.poster_path?"https://image.tmdb.org/t/p/w300".concat(w.poster_path):"https://www.salonlfc.com/wp-content/uploads/2018/01/image-not-found-scaled.png",alt:w.title||w.name,width:"300"}),Object(h.jsxs)("div",{className:i.a.filmDetails,children:[Object(h.jsxs)("h1",{children:[w.title||w.name," (",D.getFullYear(),")"]}),Object(h.jsxs)("p",{children:["User Score: ",10*w.vote_average," %"]}),Object(h.jsx)("h2",{children:"Overview"}),Object(h.jsx)("p",{children:w.overview}),Object(h.jsx)("h2",{children:"Genres"}),Object(h.jsx)("p",{children:w.genres&&w.genres.map((function(e){var t=e.name;return Object(h.jsxs)("span",{children:[" ",t," "]})}))})]})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"Additional information"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{className:i.a.link,children:Object(h.jsx)(l.c,{to:{pathname:"".concat(g,"/cast"),state:{from:null!==(e=null===O||void 0===O||null===(t=O.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/",search:null===O||void 0===O||null===(n=O.state)||void 0===n?void 0:n.search}},children:"Cast"})}),Object(h.jsx)("li",{className:i.a.link,children:Object(h.jsx)(l.c,{to:{pathname:"".concat(g,"/reviews"),state:{from:null!==(a=null===O||void 0===O||null===(m=O.state)||void 0===m?void 0:m.from)&&void 0!==a?a:"/",search:null===O||void 0===O||null===(f=O.state)||void 0===f?void 0:f.search}},children:"Reviews"})})]})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)(o.Suspense,{fallback:Object(h.jsx)(u.a,{}),children:[Object(h.jsx)(s.a,{exact:!0,path:"/movies/:movieId/cast",children:Object(h.jsx)(v,{movieId:N})}),Object(h.jsx)(s.a,{exact:!0,path:"/movies/:movieId/reviews",children:Object(h.jsx)(b,{movieId:N})})]})]})||"loading"===I&&Object(h.jsx)(u.a,{})||"rejected"===I&&Object(h.jsx)(j.default,{})]})}}}]);
//# sourceMappingURL=5.8be3191f.chunk.js.map