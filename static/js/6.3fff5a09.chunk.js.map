{"version":3,"sources":["servises/useFetch.js","views/NotFound.js","Components/MoviesPage/MoviesPage.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","Components/MoviesPage/MoviesPage.js","views/MoviesPage.js"],"names":["baseURL","API_KEY","fetchAPI","getFilmBySearch","searchQuery","axios","get","then","res","data","results","getCast","filmId","cast","getDaysTrends","getMoviesInfo","getReviews","NotFound","src","alt","width","module","exports","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","SearchMovie","useState","query","setQuery","search","setSearch","films","setFilms","location","useLocation","history","useHistory","url","useRouteMatch","urlQuery","URLSearchParams","status","setStatus","useEffect","r","console","log","catch","error","className","s","Container","SearchForm","onSubmit","e","preventDefault","type","SearchForm_button","SearchForm_button_label","SearchForm_input","onChange","currentTarget","autoComplete","autoFocus","placeholder","map","film","listItem","to","pathname","string","title","name","id","slug","lower","state","from","MoviesPage","children"],"mappings":"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","file":"static/js/6.3fff5a09.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst baseURL = 'https://api.themoviedb.org/3/';\r\nconst API_KEY = '2b2a12748231526069949d7d6477582b';\r\n\r\nconst getDaysTrends = () => {\r\n    return axios\r\n        .get(`${baseURL}trending/all/week?api_key=${API_KEY}`)\r\n        .then(res => res.data.results);\r\n};\r\n\r\nconst getFilmBySearch = searchQuery => {\r\n    return axios\r\n        .get(\r\n            `${baseURL}search/movie?api_key=${API_KEY}&query=${searchQuery}&page=1&include_adult=false`,\r\n        )\r\n        .then(res => res.data.results);\r\n};\r\n\r\nconst getMoviesInfo = filmId => {\r\n    return axios\r\n        .get(`${baseURL}movie/${filmId}?api_key=${API_KEY}`)\r\n        .then(res => res.data);\r\n};\r\n\r\nconst getCast = filmId => {\r\n    return axios\r\n        .get(`${baseURL}movie/${filmId}/credits?api_key=${API_KEY}`)\r\n        .then(res => res.data.cast);\r\n};\r\n\r\nconst getReviews = filmId => {\r\n    return axios\r\n        .get(`${baseURL}movie/${filmId}/reviews?api_key=${API_KEY}`)\r\n        .then(res => res.data.results);\r\n};\r\n\r\nexport const fetchAPI = {\r\n    getFilmBySearch,\r\n    getCast,\r\n    getDaysTrends,\r\n    getMoviesInfo,\r\n    getReviews,\r\n};\r\n","const NotFound = () => (\r\n    <div>\r\n        <h1>404 Page not found üîç</h1>\r\n        <img\r\n            src=\"https://mtdata.ru/u8/photo39C2/20569542232-0/original.jpg\"\r\n            alt=\"Page not found\"\r\n            width=\"360\"\r\n        />\r\n    </div>\r\n);\r\n\r\nexport default NotFound;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchMovie\":\"MoviesPage_SearchMovie__2_thx\",\"SearchForm\":\"MoviesPage_SearchForm__1l5qe\",\"SearchForm_button\":\"MoviesPage_SearchForm_button__1Yrhc\",\"SearchForm_button_label\":\"MoviesPage_SearchForm_button_label__3obiu\",\"SearchForm_input\":\"MoviesPage_SearchForm_input__3s11B\",\"listItem\":\"MoviesPage_listItem__33rPH\"};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import s from './MoviesPage.module.css';\nimport React, { useState, useEffect } from 'react';\nimport { fetchAPI } from '../../servises/useFetch';\nimport { Link, useLocation, useHistory } from 'react-router-dom';\nimport CustomLoader from '../Loader/Loader';\nimport NotFound from '../../views/NotFound';\nimport { useRouteMatch } from 'react-router';\nimport slug from 'slug';\n\nconst makeSlug = string => slug(string, { lower: true });\n\nfunction SearchMovie() {\n    const [query, setQuery] = useState('');\n    const [search, setSearch] = useState(null);\n    const [films, setFilms] = useState([]);\n    const location = useLocation();\n    const history = useHistory();\n    const { url } = useRouteMatch();\n    const urlQuery = new URLSearchParams(location.search).get('search');\n    const [status, setStatus] = useState('pending');\n\n    useEffect(() => {\n        setStatus('loading');\n        search &&\n            fetchAPI\n                .getFilmBySearch(search)\n                .then(r => {\n                    console.log(r);\n                    setFilms(r);\n                    setStatus('pending');\n                })\n                .catch(error => error && setStatus('rejected'));\n    }, [search]);\n\n    const handleChange = e => {\n        setQuery(e.currentTarget.value);\n    };\n\n    useEffect(() => {\n        if (search === null) {\n            setSearch(urlQuery);\n        }\n    }, []);\n\n    const handleSubmit = e => {\n        e.preventDefault();\n\n        setSearch(query);\n        history.push({\n            ...location,\n            search: `search=${query}`,\n        });\n        setQuery('');\n    };\n\n    return (\n        <div className={s.Container}>\n            <header className={s.SearchMovie}>\n                <form className={s.SearchForm} onSubmit={handleSubmit}>\n                    <button type=\"submit\" className={s.SearchForm_button}>\n                        <span className={s.SearchForm_button_label}>\n                            Search\n                        </span>\n                    </button>\n\n                    <input\n                        className={s.SearchForm_input}\n                        value={query}\n                        onChange={handleChange}\n                        type=\"text\"\n                        autoComplete=\"off\"\n                        autoFocus\n                        placeholder=\"Search movie\"\n                    />\n                </form>\n            </header>\n\n            {(status === 'pending' &&\n                (films.length >= 1 ? (\n                    <ul>\n                        {films.map(film => (\n                            <li key={film.id} className={s.listItem}>\n                                <Link\n                                    to={{\n                                        pathname: `${url}/${makeSlug(\n                                            `${film.title || film.name} ${\n                                                film.id\n                                            }`,\n                                        )}`,\n                                        state: { from: location },\n                                    }}\n                                >\n                                    {film.title || film.name}\n                                </Link>\n                            </li>\n                        ))}\n                    </ul>\n                ) : (\n                    <NotFound />\n                ))) ||\n                (status === 'loading' && <CustomLoader />) ||\n                (status === 'rejected' && <NotFound />)}\n        </div>\n    );\n}\n\nexport default SearchMovie;\n","import React from 'react';\r\nimport SearchMovie from '../Components/MoviesPage/MoviesPage';\r\n\r\nconst MoviesPage = children => (\r\n    <>\r\n        <SearchMovie />\r\n    </>\r\n);\r\n\r\nexport default MoviesPage;\r\n"],"sourceRoot":""}