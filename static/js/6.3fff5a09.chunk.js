(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[6,10],{53:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(56),a=n.n(c),r="https://api.themoviedb.org/3/",o="2b2a12748231526069949d7d6477582b",i={getFilmBySearch:function(e){return a.a.get("".concat(r,"search/movie?api_key=").concat(o,"&query=").concat(e,"&page=1&include_adult=false")).then((function(e){return e.data.results}))},getCast:function(e){return a.a.get("".concat(r,"movie/").concat(e,"/credits?api_key=").concat(o)).then((function(e){return e.data.cast}))},getDaysTrends:function(){return a.a.get("".concat(r,"trending/all/week?api_key=").concat(o)).then((function(e){return e.data.results}))},getMoviesInfo:function(e){return a.a.get("".concat(r,"movie/").concat(e,"?api_key=").concat(o)).then((function(e){return e.data}))},getReviews:function(e){return a.a.get("".concat(r,"movie/").concat(e,"/reviews?api_key=").concat(o)).then((function(e){return e.data.results}))}}},54:function(e,t,n){"use strict";n.r(t);var c=n(1);t.default=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"404 Page not found \ud83d\udd0d"}),Object(c.jsx)("img",{src:"https://mtdata.ru/u8/photo39C2/20569542232-0/original.jpg",alt:"Page not found",width:"360"})]})}},89:function(e,t,n){e.exports={SearchMovie:"MoviesPage_SearchMovie__2_thx",SearchForm:"MoviesPage_SearchForm__1l5qe",SearchForm_button:"MoviesPage_SearchForm_button__1Yrhc",SearchForm_button_label:"MoviesPage_SearchForm_button_label__3obiu",SearchForm_input:"MoviesPage_SearchForm_input__3s11B",listItem:"MoviesPage_listItem__33rPH"}},97:function(e,t,n){"use strict";n.r(t);var c=n(0);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=n(55),u=n(89),s=n.n(u),l=n(53),b=n(2),h=n(10),j=n(15),f=n(54),d=n(65),m=n.n(d),p=n(1);var O=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),u=Object(i.a)(r,2),d=u[0],O=u[1],g=Object(c.useState)([]),v=Object(i.a)(g,2),_=v[0],S=v[1],y=Object(b.g)(),x=Object(b.f)(),P=Object(b.h)().url,w=new URLSearchParams(y.search).get("search"),F=Object(c.useState)("pending"),M=Object(i.a)(F,2),k=M[0],N=M[1];return Object(c.useEffect)((function(){N("loading"),d&&l.a.getFilmBySearch(d).then((function(e){console.log(e),S(e),N("pending")})).catch((function(e){return e&&N("rejected")}))}),[d]),Object(c.useEffect)((function(){null===d&&O(w)}),[]),Object(p.jsxs)("div",{className:s.a.Container,children:[Object(p.jsx)("header",{className:s.a.SearchMovie,children:Object(p.jsxs)("form",{className:s.a.SearchForm,onSubmit:function(e){e.preventDefault(),O(n),x.push(o(o({},y),{},{search:"search=".concat(n)})),a("")},children:[Object(p.jsx)("button",{type:"submit",className:s.a.SearchForm_button,children:Object(p.jsx)("span",{className:s.a.SearchForm_button_label,children:"Search"})}),Object(p.jsx)("input",{className:s.a.SearchForm_input,value:n,onChange:function(e){a(e.currentTarget.value)},type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie"})]})}),"pending"===k&&(_.length>=1?Object(p.jsx)("ul",{children:_.map((function(e){return Object(p.jsx)("li",{className:s.a.listItem,children:Object(p.jsx)(h.b,{to:{pathname:"".concat(P,"/").concat((t="".concat(e.title||e.name," ").concat(e.id),m()(t,{lower:!0}))),state:{from:y}},children:e.title||e.name})},e.id);var t}))}):Object(p.jsx)(f.default,{}))||"loading"===k&&Object(p.jsx)(j.a,{})||"rejected"===k&&Object(p.jsx)(f.default,{})]})};t.default=function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(O,{})})}}}]);
//# sourceMappingURL=6.3fff5a09.chunk.js.map