(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[6],{53:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(56),a=n.n(c),i="https://api.themoviedb.org/3/",s="2b2a12748231526069949d7d6477582b",o={getFilmBySearch:function(e){return a.a.get("".concat(i,"search/movie?api_key=").concat(s,"&query=").concat(e,"&page=1&include_adult=false")).then((function(e){return e.data.results}))},getCast:function(e){return a.a.get("".concat(i,"movie/").concat(e,"/credits?api_key=").concat(s)).then((function(e){return e.data.cast}))},getDaysTrends:function(){return a.a.get("".concat(i,"trending/all/week?api_key=").concat(s)).then((function(e){return e.data.results}))},getMoviesInfo:function(e){return a.a.get("".concat(i,"movie/").concat(e,"?api_key=").concat(s)).then((function(e){return e.data}))},getReviews:function(e){return a.a.get("".concat(i,"movie/").concat(e,"/reviews?api_key=").concat(s)).then((function(e){return e.data.results}))}}},85:function(e,t,n){e.exports={movieDetailsPage:"MovieDetailsPage_movieDetailsPage__29WKZ",buttonBack:"MovieDetailsPage_buttonBack__3dIDI",thumb:"MovieDetailsPage_thumb__2zugL",filmDetails:"MovieDetailsPage_filmDetails__3dyHD",link:"MovieDetailsPage_link__14ezd"}},91:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var c=n(55),a=n(85),i=n.n(a),s=n(2),o=n(0),r=n(53),l=n(10),j=n(90),u=n(15),d=n(1),h=Object(o.lazy)((function(){return n.e(5).then(n.bind(null,86))})),b=Object(o.lazy)((function(){return n.e(7).then(n.bind(null,88))}));function v(){var e=Object(s.h)().movieId,t=Object(s.i)().url,n=Object(s.g)(),a=Object(s.f)(),v=Object(o.useState)({}),g=Object(c.a)(v,2),O=g[0],m=g[1],p=new Date(O.release_date),f=Object(o.useState)("pending"),x=Object(c.a)(f,2),_=x[0],w=x[1];console.log(_),Object(o.useEffect)((function(){w("loading"),r.a.getMoviesInfo(e).then((function(e){console.log(e),m(e),w("pending")})).catch((function(e){return e&&w("rejected")}))}),[e]);return Object(d.jsxs)("div",{className:i.a.movieDetailsPage,children:[Object(d.jsxs)("button",{type:"button",onClick:function(){var e,t;a.push(null!==(e=null===n||void 0===n||null===(t=n.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/movies")},className:i.a.buttonBack,children:[Object(d.jsx)(j.a,{})," Go back"]}),"pending"===_&&Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:i.a.thumb,children:[Object(d.jsx)("img",{src:O.poster_path?"https://image.tmdb.org/t/p/w300".concat(O.poster_path):"https://www.salonlfc.com/wp-content/uploads/2018/01/image-not-found-scaled.png",alt:O.title||O.name,width:"300"}),Object(d.jsxs)("div",{className:i.a.filmDetails,children:[Object(d.jsxs)("h1",{children:[O.title||O.name," (",p.getFullYear(),")"]}),Object(d.jsxs)("p",{children:["User Score: ",10*O.vote_average," %"]}),Object(d.jsx)("h2",{children:"Overview"}),Object(d.jsx)("p",{children:O.overview}),Object(d.jsx)("h2",{children:"Genres"}),Object(d.jsx)("p",{children:O.genres&&O.genres.map((function(e){var t=e.name;return Object(d.jsxs)("span",{children:[" ",t," "]})}))})]})]}),Object(d.jsx)("hr",{}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Additional information"}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{className:i.a.link,children:Object(d.jsx)(l.c,{to:{pathname:"".concat(t,"/cast")},children:"Cast"})}),Object(d.jsx)("li",{className:i.a.link,children:Object(d.jsx)(l.c,{to:{pathname:"".concat(t,"/reviews")},children:"Reviews"})})]})]}),Object(d.jsx)("hr",{}),Object(d.jsxs)(o.Suspense,{fallback:Object(d.jsx)(u.a,{}),children:[Object(d.jsx)(s.a,{exact:!0,path:"/movies/:movieId/cast",children:Object(d.jsx)(h,{})}),Object(d.jsx)(s.a,{exact:!0,path:"/movies/:movieId/reviews",children:Object(d.jsx)(b,{})})]})]})||"loading"===_&&Object(d.jsx)(u.a,{})||"rejected"===_&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"404 Page not found \ud83d\udd0d"}),Object(d.jsx)("img",{src:"https://mtdata.ru/u8/photo39C2/20569542232-0/original.jpg",alt:"Page not found",width:"360"})]})]})}}}]);
//# sourceMappingURL=6.8a86c82e.chunk.js.map